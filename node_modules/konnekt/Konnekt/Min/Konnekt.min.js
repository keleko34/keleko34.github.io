var Konnekt=function(){var V=function(){return function(z,p,u,t){function L(b,e,k,v){b=void 0===b?{}:b;var f={},d=window.Proxy?new Proxy(f,{set:M,deleteProperty:Q}):f,n=Object.keys(b,"all");Object.defineProperties(f,{__kbname:c("string"===typeof e?e:"default",!0,!0),__kbref:c(k?k.__kbref||k:d,!0,!0),__kbscopeString:c(v||"",!0,!0),__kbImmediateParent:c(k||null,!0,!0),__kbsubscribers:c({}),__kbparentsubscribers:c({}),__kblisteners:c({}),__kbupdatelisteners:c({}),__kbparentlisteners:c({}),__kbparentupdatelisteners:c({}),
__kbcreatelisteners:c([]),__kbdeletelisteners:c([]),__kbparentcreatelisteners:c([]),__kbparentdeletelisteners:c([]),__kbmethodlisteners:c([]),__kbmethodupdatelisteners:c([]),__kbpointers:c({}),__kbevents:c(h),length:c(0,!0),__kbnonproxy:c(f,!1,!0),__kbproxy:c(d,!1,!0),_stopChange:c(!1,!0)});f.__proto__=L.prototype;e=0;for(k=n.length;e<k;e++)d.set(n[e],b[n[e]]);f.__kbevents.addlistener=[];f.__kbevents.removelistener=[];f.addActionListener("addlistener",function(b){if("string"===typeof b.arguments[0]&&
void 0!==b.local.__kbpointers[b.arguments[0]]){var e=b.local.__kbpointers[b.arguments[0]],e=e.point.getLayer(e.keys);if(void 0!==e[b.arguments[0]])e[b.arguments[2]](b.arguments[0],b.arguments[1])}}).addActionListener("removelistener",function(b){if("string"===typeof b.arguments[0]&&void 0!==b.local.__kbpointers[b.arguments[0]]){var e=b.local.__kbpointers[b.arguments[0]],e=e.point.getLayer(e.keys);if(void 0!==e[b.arguments[0]])e[b.arguments[2]](b.arguments[0],b.arguments[1])}});return d}function C(b,
e,k,v,f,d,n,x){this.stopPropogation=function(){this._stopPropogration=!0};this.preventDefault=function(){this._preventDefault=!0};this.local=b;this.key=e;this.arguments=d;this.type=this.event=k;this.listener=n;this.name=b.__kbname;this.root=b.__kbref;this.scope=b.__kbscopeString;this.parent=b.__kbImmediateParent;this.value=v;this.oldValue=f;this.stopChange=x}function c(b,e,k,v){return{value:b,writable:!!e,enumerable:!!v,configurable:!!k}}function O(b,e,k){return{get:function(){return b.call(this)},
set:function(k){e&&(b=k)},enumerable:!1,configurable:!!k}}function I(b,e){var k=e,v=e;return{get:function(){return k},set:function(e){var d=new C(this,b,"set",e,k,arguments,"__kblisteners",this._stopChange);!0!==g(d)&&(v=k,k=e,d.stopChange||(d.listener="__kbupdatelisteners",d.type="postset",g(d)),this.callSubscribers(this.__kbref,this,b,k,v,this._stopChange));this._stopChange=!1},configurable:!0,enumerable:!0}}function R(){var b=Array.prototype.slice.call(arguments),e=b.shift();return{get:function(){return b.reduce(function(b,
e){return b[e]},e)},set:function(k){var v=b.slice(0,b.length-1).reduce(function(b,e){return b[e]},e);(this._stopChange?v.stopChange():v)[b[b.length-1]]=k;this._stopChange=!1},enumerable:!0,configurable:!0}}function N(b,e){for(var k=[{listener:"__kbparentlisteners",action:"addChildListener"},{listener:"__kbparentupdatelisteners",action:"addChildUpdateListener"},{listener:"__kbparentcreatelisteners",action:"addChildCreateListener"},{listener:"__kbparentdeletelisteners",action:"addChildDeleteListener"}],
v=[],f,d=0,n=k.length;d<n;d++)if(f=b[k[d].listener],F.call(f))for(var v=Object.keys(f),x=0,g=v.length;x<g;x++)for(var c=0,l=f[v[x]].length;c<l;c++)e[k[d].method](v[x],f[v[x]][c]);else for(x=0,g=f.length;x<g;x++)e[k[d].method](f[x])}function M(b,e,k){if(J(b,e)||"length"===e){if("length"===e)if(k>b.length&&void 0!==b[k-1])b.length=k;else{if(k<b.length){e=k;for(var v=b.length;e<v;e++)b[e]&&delete b[e];b.length=k}}else b[e]=k;return!0}b.set(e,k)}function Q(b,e){b.del(e);return!0}function P(b,e,k){var v=
q(k),f=F(k),d=K(k);if(v&&k.__kbname!==b.__kbname)"default"===k.__kbname?b.merge(k,e):b.__kbpointers[e]||b.addPointer(k,e);else{var v=new C(this,e,"create",k,void 0,[],"__kbcreatelisteners",this._stopChange),n=g(v),x=parseInt(e,10);if(!0!==n)if((f||d)&&0!==Object.keys(k,"all").length)for(P.call(this,b,e,{}),f=0,d=Object.keys(k,"all"),v=d.length;f<v;f++)P.call(this[e],b[e],d[f],k[d[f]]);else{if(f||d)k=new L(k,b.__kbname,b,b.__kbscopeString+(0!==b.__kbscopeString.length?".":"")+e),N(b,k);Object.defineProperty(b,
e,I(e,k));!isNaN(x)&&b.length<=x&&(b.length=x+1);v.listener="__kbupdatelisteners";v.type="postcreate";g(v)}}}function E(b,e,k,v){var f=q(k),d=F(k),n=K(k);if(f&&k.__kbname!==b.__kbname)"default"===k.__kbname?b.merge(k,e):b.__kbpointers[e]||b.addPointer(k,e);else if(void 0===b[e])-1===r.indexOf(e)?P.call(this,b,e,k):(v?b.stopChange():b)[e]=k;else if(d||n)for(f=0,d=Object.keys(k,"all"),n=d.length;f<n;f++)E.call(this[e],b[e],d[f],k[d[f]],v);else(v?b.stopChange():b)[e]=k}function G(b){return{}.toString.call(b).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}
function F(b){return"object"===G(void 0!==b?b:this)}function K(b){return"array"===G(void 0!==b?b:this)}function q(b){return"mixed"===G(void 0!==b?b:this)}function J(b,e){e="string"===typeof b?b:e;var k=Object.getOwnPropertyDescriptor("string"===typeof b?this:b,e);return k?void 0===k.value:!1}function B(b,e){"number"===typeof b&&(b=b.toString());var k=-1!==b.indexOf(".")?this.__kbnonproxy.setLayer(b):this.__kbnonproxy;-1!==b.indexOf(".")&&(b=b.split(".").pop());var v=new C(this,b,"set",e,this[b],arguments,
"__kbmethodlisteners");!0!==g(v)&&(E.call(this,k,b,e,this._stopChange),this.stopChange=void 0,v.type="postset",v.listener="__kbmethodupdatelisteners",g(v));return this}function l(b){return b.split(".")}function D(b,e){return function(k,v){arguments=Array.prototype.slice.call(arguments);arguments.push(b);var f=this[e],d=new C(this,e,"addlistener",f,void 0,arguments,"");"string"===typeof k&&1!==l(k).length&&(f=l(k),k=f.pop(),f=f.join("."),d.local=this.getLayer(f),f=d.local[e],d.value=f);!0!==g(d)&&
(F.call(f)?(void 0===f[k]&&(f[k]=[]),f[k].push(v),d.type="postaddlistener",g(d)):K.call(f)&&"function"===typeof k&&(f.push(k),d.type="postaddlistener",g(d)));return this}}function H(b,e){return function(k,v){arguments=Array.prototype.slice.call(arguments);arguments.push(b);var f=this[e],d=new C(this,e,"removelistener",f,void 0,arguments,"");"string"===typeof k&&1!==l(k).length&&(f=l(k),f.pop(),f.join("."),d.local=this.getLayer(f),f=d.local[e],d.value=f,k=l(k).pop());if(!0!==g(d))if(F.call(f)){if(void 0!==
f[k])for(var n=0,x=f[k].length;n<x;n++)if(f[k][n].toString()===v.toString()){f[k].splice(n,1);d.type="postremovelistener";g(d);break}}else if(K.call(f)&&"function"===typeof k)for(n=0,x=f.length;n<x;n++)if(f[n].toString()===k.toString()){f.splice(n,1);d.type="postremovelistener";g(d);break}return this}}function A(b,e){function k(b,e,d){var n=Object.keys(this,"all").filter(function(b){return q.call(this[b])}.bind(this)),g=this,c=b;"string"===typeof b&&1!==l(b).length&&(g=l(b),c=g.pop(),g=g.join("."),
g=this.getLayer(g),void 0===g[d][c]&&(g[d][c]=[]),g[d][c].push(e));F.call(g[d])?(void 0===g[d][c]&&(g[d][c]=[]),g[d][c].push(e),g=g.__kbpointers[c],g=g.point.getLayer(g.keys),void 0!==g[c]&&(void 0===g[d][c]&&(g[d][c]=[]),g[d][c].push(_func))):g[d].push(e);c=0;for(g=n.length;c<g;c++)k.call(this[n[c]],b,e,d)}return function(d,f){arguments=Array.prototype.slice.call(arguments);arguments.push(b);var c=new C(this,e,"addchildlistener",void 0,void 0,arguments,"");!0!==g(c)&&(k.call(this.__kbnonproxy,d,
f,e),c.type="postaddchildlistener",g(c));return this}}function y(b,e){function k(b,e,d){var n=Object.keys(this,"all").filter(function(b){return q.call(this[b])}.bind(this)),g=this,c=b;if("string"===typeof b&&1!==l(b).length){var w=l(b),c=w.pop();w.join(".");g=this.getLayer(w);if(void 0!==g[d][b])for(var w=0,h=g[d][b].length;w<h;w++)if(g[d][b][w].toString()===e.toString()){g[d][b].splice(w,1);break}}if(F.call(g[d])){if(void 0!==g[d][c]){w=0;for(h=g[d][c].length;w<h;w++)if(g[d][c][w].toString()===e.toString()){g[d][c].splice(w,
1);break}if(-1!==g.__kbpointers.indexOf(c)&&(w=g.__kbpointers[c],g=w.point.getLayer(w.keys),void 0!==g[d][c]))for(w=0,h=g[d][c].length;w<h;w++)if(g[d][c][w].toString()===e.toString()){g[d][c].splice(w,1);break}}}else for(w=0,h=g[d].length;w<h;w++)if(g[d][w].toString()===e.toString()){g[d].splice(w,1);break}w=0;for(h=n.length;w<h;w++)k.call(this[n[w]],b,e,d)}return function(d,f){arguments=Array.prototype.slice.call(arguments);arguments.push(b);var c=new C(this,e,"removechildlistener",void 0,void 0,
arguments,"");!0!==g(c)&&(k.call(this.__kbnonproxy,d,f,e),c.type="postremovechildlistener",g(c));return this}}var h={set:[],postset:[],create:[],postcreate:[],"delete":[],postdelete:[],splice:[],postsplice:[],push:[],postpush:[],pop:[],postpop:[],shift:[],postshift:[],unshift:[],postunshift:[],fill:[],postfill:[],reverse:[],postreverse:[],sort:[],postsort:[],addlistener:[],postaddlistener:[],removelistener:[],postremovelistener:[],addchildlistener:[],postaddchildlistener:[],removechildlistener:[],
postremovechildlistener:[]},r=["__proto__","_stopChange"],m=function(b,e){if(!e._stopPropogration&&b)for(var k=0,d=b.length;k!==d&&(b[k](e),!e._stopPropogration);k++);},g=function(b){if(b.listener){var e=b.local[b.listener],k=b.local[b.listener.replace("__kb","__kbparent")];F.call(e)?(m(e[b.key],b),m(e["*"],b)):m(e,b);F.call(k)?(m(k[b.key],b),m(k["*"],b)):m(k,b)}m(b.local.__kbref.__kbevents[b.type],b);return b._preventDefault},d=Array.prototype.sort;Object.prototype._toString||(Object.prototype._toString=
Object.prototype.toString);Object._keys||(Object._keys=Object.keys);Object.prototype.toString=function(){return this instanceof L?"[object Mixed]":Object.prototype._toString.apply(this,arguments)};Object.keys=function(b,e){return Object._keys(b).filter(function(b){return e&&"object"!==e&&"o"!==e?"all"===e?!0:!isNaN(parseInt(b,10)):isNaN(parseInt(b,10))})};Object.defineProperties(L.prototype,{"typeof":c(G,!1,!0),sizeof:c(function(b){function e(b){for(var f=Object.keys(b,"all"),d=0,g=void 0,c=0,l=f.length;c<
l;c++)g=b[f[c]],"object"===typeof g&&void 0!==g&&null!==g?-1===k.indexOf(g)&&(k.push(g),d+=e(g)):"string"===typeof g?d+=2*g.length:"number"===typeof g?d+=8:"boolean"===typeof g?d+=4:"function"===typeof g&&(d+=2*g.toString().length),d+=2*f[c].length;return d}var k=[];return e(b||this)+" Bytes (Rough estimate)"},!1,!0),isObject:c(F,!1,!0),isArray:c(K,!1,!0),isMixed:c(q,!1,!0),isObservable:c(J,!1,!0),stringify:c(function(b){var e=[];return JSON.stringify(b||this,function(b,d){if(K(d)||F(d)){if(-1!==
e.indexOf(d))return;e.push(d)}return d})},!1,!0),getKeys:c(function(b,e){e="string"===typeof b?b:e?e:"object";return Object.keys("string"===typeof b||void 0===b?this:b,e)},!1,!0),getIndexes:c(function(b){b=void 0!==b?"object"===typeof b?b:this[b]:this;for(var e=[],k=0,d=b.length;k<d;k++)void 0!==b[k]&&(e[e.length]=k);return e},!1,!0),keyCount:O(function(){return this.getKeys("object").length},!1,!0),indexCount:O(function(){return this.length},!1,!0),count:O(function(){return this.keyCount+this.indexCount},
!1,!0),concat:c(Array.prototype.concat),every:c(Array.prototype.every),filter:c(Array.prototype.filter),find:c(Array.prototype.find),findIndex:c(Array.prototype.findIndex),forEach:c(Array.prototype.forEach),includes:c(Array.prototype.includes),indexOf:c(Array.prototype.indexOf),join:c(Array.prototype.join),lastIndexOf:c(Array.prototype.lastIndexOf),map:c(Array.prototype.map),reduce:c(Array.prototype.reduce),reduceRight:c(Array.prototype.reduceRight),slice:c(Array.prototype.slice),some:c(Array.prototype.some),
entries:c(Array.prototype.entries),toLocaleString:c(Array.prototype.toLocaleString),add:c(function(b,e){B.call(this,b,e);return this}),set:c(B),get:c(function(b){"number"===typeof b&&(b=b.toString());var e=-1!==b.indexOf(".")?this.getLayer(b):this;-1!==b.indexOf(".")&&(b=b.split(".").pop());if(e)return e[b];console.warn("Module: KonnektDT, Method: get, nothing exists on %o with the key %o",this,b)}),del:c(function(b,e){var k="number"===typeof b||!isNaN(parseInt(b,10));k&&(b=b.toString());var d=-1!==
b.indexOf(".")?this.getLayer(b):this,f=b.split(".").pop();if(d&&void 0!==d[f])if(k&&d.length>parseInt(b,10)&&!e)d=d.__kbnonproxy,d.splice(f,1);else{var l=new C(d,b,"delete",d[f],void 0,[],"__kbmethodlisteners"),n=g(l),x=new C(d,b,"delete",d[f],void 0,[],"__kbdeletelisteners",this._stopChange);!0!==g(x)&&!0!==n&&(d=d.__kbnonproxy,Object.defineProperty(d,f,c(void 0,!0,!0,!1)),delete d[f],k&&d.length>parseInt(b,10)&&e&&--d.length,l.type="postdelete",l.listener="__kbmethodupdatelisteners",g(l),x.listener=
"__kbupdatelisteners",x.type="postdelete",x.oldValue=x.value,x.value=void 0,g(x))}return this}),exists:c(function(b){var e=-1!==b.indexOf(".")?this.__kbnonproxy.getLayer(b):this.__kbnonproxy;-1!==b.indexOf(".")&&(b=b.split(".").pop());return e?void 0!==e[b]:!!e}),addPrototype:c(function(b,e){var k=-1!==b.indexOf(".")?this.__kbnonproxy.setLayer(b):this.__kbnonproxy;-1!==b.indexOf(".")&&(b=b.split(".").pop());void 0===k[b]?Object.defineProperty(k.__proto__,b,c(e,!0,!0)):console.error("Your attempting to add your prototype with the prop %O that already exists on %O",
prop,k);return this}),addPointer:c(function(){var b=Array.prototype.slice.call(arguments),e=b.shift(),k=b[b.length-1];e instanceof L||(e=new L(e,e.__kbname));var d=new C(this,k,"create",e[k],void 0,[],"__kbcreatelisteners",this._stopChange),f=this.__kbnonproxy;d.root=e.__kbref.__kbproxy;if(!0!==g(d)){Object.defineProperty(f,k,R.apply(f,arguments));f.__kbpointers[k]={keys:b.join("."),point:e};var b=f,e=[{listener:"__kblisteners",method:"addDataListener"},{listener:"__kbupdatelisteners",method:"addDataUpdateListener"}],
f=[],c;if(b[k].__kbImmediateParent)for(var n=0,l=e.length;n<l;n++){c=b[e[n].listener];for(var f=Object.keys(c),T=0,w=f.length;T<w;T++)if(k===f[n])for(var h=0,r=c[f[n]].length;h<r;h++)void 0===b[k].__kbImmediateParent[e[n].listener][k]&&(b[k].__kbImmediateParent[e[n].listener][k]=[]),b[k].__kbImmediateParent[e[n].listener][k].push(c[f[n]][h])}N(b,b[k]);d.listener="__kbupdatelisteners";d.type="postcreate";g(d)}return this}),move:c(function(b,e){this.__kbnonproxy.set(e,b[e]);q(b)?b.del(e):(b[e]=null,
delete b[e]);return this}),copy:c(function(b,e){var k=this.__kbnonproxy;q(b)?"default"===b.__kbname?k.merge(b[e],e):k.addPointer(b,e):k.set(e,b[e]);return this}),merge:c(function(b,e){function k(b,e){for(var f=q(b)?b.keys("object"):Object.keys(b),g,c=0,l=f.length;c<l;c++)g=b[f[c]],"object"===typeof g&&-1===d.indexOf(g)&&"undefined"!==e[f[c]]?k(g,e):e.set(f[c],"object"===typeof g?{}:g)}var d=[],f=this.__kbnonproxy;e&&void 0===f[e]&&f.set(e,{});k(b,e?f[e]:f);return this}),copyWithin:c(function(b,e,
k){e=e||0;k=k||0;var d=new C(this,b,"copyWithin",this[b],void 0,arguments,"__kbmethodlisteners"),f=this.__kbnonproxy;if(!0!==g(d)&&b<f.length){b=0>b?f.length-1:b;e=e<f.length?e:f.length-1;k=k<f.length?k:f.length-1;e=0>e?f.length-1:e;k=0>e?f.length-1:k;for(var c=e;c<=k;c++)f.set(b+(c-e),f[c]);d.type="postcopyWithin";d.listener="__kbmethodupdatelisteners";g(d)}return this}),fill:c(function(b,e,k){e=void 0!==e?Math.max(0,e):0;k=void 0!==k&&k<=this.length?Math.min(this.length,Math.max(0,k)):this.length;
var d=new C(this,_start,"fill",this[_start],void 0,arguments,"__kbmethodlisteners"),f=this.__kbnonproxy;if(!0!==g(d)){for(var c=a.key;c<k;c++)f[c]=b;d.type="postfill";d.listener="__kbmethodupdatelisteners";g(d)}return this}),pop:c(function(){var b=new C(this,this.length-1,"pop",this[this.length-1],void 0,arguments,"__kbmethodlisteners"),e=this.__kbnonproxy;if(!0!==g(b)){var d=e[e.length-1];e.del(this.length-1);b.type="postpop";b.listener="__kbmethodupdatelisteners";g(b);return d}return null}),push:c(function(b){var e=
new C(this,this.length,"push",b,void 0,arguments,"__kbmethodlisteners"),d=this.__kbnonproxy;!0!==g(e)&&(d.set(d.length,b),e.type="postpush",e.listener="__kbmethodupdatelisteners",g(e));return this.length}),reverse:c(function(){var b=new C(this,void 0,"reverse",void 0,void 0,arguments,"__kbmethodlisteners"),e=this.__kbnonproxy;if(!0!==g(b)){for(var d=null,c=null,f=e.length,d=0;d<f/2;d+=1){var c=f-1-d,l=e[d];e[d]=e[c];e[c]=l}b.type="postreverse";b.listener="__kbmethodupdatelisteners";g(b)}return this}),
shift:c(function(){var b=new C(this,0,"shift",this[0],void 0,arguments,"__kbmethodlisteners"),e=this.__kbnonproxy;if(!0!==g(b)){for(var d=a.key,c=this.length-1;d<c;d++)e[d]=e[d+1];e.del(this.length-1);b.type="postshift";b.listener="__kbmethodupdatelisteners";g(b)}return null}),sort:c(function(){var b=new C(this,void 0,"sort",void 0,void 0,arguments,"__kbmethodlisteners"),e=this.__kbnonproxy;!0!==g(b)&&(d.apply(e,arguments),b.type="postsort",b.listener="__kbmethodupdatelisteners",g(b));return this}),
splice:c(function(b,e,d){b="string"===typeof b?parseInt(b,10):b;var c=new C(this,b,"splice",void 0,void 0,arguments,"__kbmethodlisteners"),f=this.__kbnonproxy;if(!0!==g(c)){var l=[],n=Array.prototype.slice.call(arguments,2),x=n.length-2,h=0;if(0!==e&&void 0!==f[b-1+e])for(var w=0,r=e;w<r;w++){l.push(f[b+w]);for(var m=b+w,D=this.length-1;m<D;m++)f[m]=f[m+1];f.del(f.length-1,!0)}if(0!==x)for(w=0,r=x;w<r;w++){h=b+Math.min(1,w);m=f.length;for(D=h;m>D;m--)f.set(m,f[m-1]);f.set(h,n[w])}c.type="postsplice";
c.listener="__kbmethodupdatelisteners";g(c);return l}return[]}),unshift:c(function(){var b=new C(this,0,"unshift",this[0],void 0,arguments,"__kbmethodlisteners"),e=this.__kbnonproxy;if(!0!==g(b)){for(var d=Array.prototype.slice.call(arguments),c=e.length-1+d.length,f=d.length;-1!==c;c--)c<f?e.set(c,d[c]):e.set(c,e[c-d.length]);b.type="postunshift";b.listener="__kbmethodupdatelisteners";g(b)}return this.length}),getLayer:c(function(b){function e(b){var d=b[0];return void 0===this[d]&&0!==b.length-
1?null:q(this[d])?0!==b.length-1?(b.shift(),e.call(this[d],b)):this[d]:this}b=l(b);return e.call(this,b)}),setLayer:c(function(b){function e(b){var d=b[0];void 0===this[d]&&0!==b.length-1&&(this[d]=L({},this.__kbname,this,this.__kbscopeString+"."+d));return q(this[d])?0!==b.length-1?(b.shift(),e.call(this[d],b)):this[d]:this}b=l(b);return e.call(this,b)}),ignoreCreate:c(function(b){-1===r.indexOf(b)&&r.push(b);return this}),addActionListener:c(function(b,e){var d=this.__kbnonproxy;void 0!==d.__kbref.__kbevents[b]&&
d.__kbref.__kbevents[b].push(e);return this}),removeActionListener:c(function(b,e){var d=this.__kbnonproxy;if(void 0!==d.__kbref.__kbevents[b])for(var g=0,f=d.__kbref.__kbevents[b];g<f;g++)if(d.__kbref.__kbevents[b][g].toString()===e.toString()){d.__kbref.__kbevents[b].splice(g,1);break}return this}),subscribe:c(function(b,e){var d=b.split("."),g=d.pop(),d=0!==d.length?this.__kbnonproxy.getLayer(d.join(".")):this.__kbnonproxy;void 0===d.__kbsubscribers[g]&&(d.__kbsubscribers[g]=[]);d.__kbsubscribers[g].push(e);
return this}),unsubscribe:c(function(b,e){var d=b.split("."),g=d.pop(),d=0!==d.length?this.__kbnonproxy.getLayer(d.join(".")):this.__kbnonproxy;if(void 0!==d.__kbsubscribers[g])for(var f=0,c=d.__kbsubscribers[g].length;f<c;f++)if(d.__kbsubscribers[g][f].toString()===e.toString()){d.__kbsubscribers[g].splice(f,1);break}return this}),subscribeDeep:c(function(b,e){function d(b,f){var g=Object.keys(b,"all").filter(function(e){return q.call(b[e])}.bind(b));if(void 0!==b[f]||"*"===f)void 0===b.__kbparentsubscribers[f]&&
(b.__kbparentsubscribers[f]=[]),b.__kbparentsubscribers[f].push(e);for(var c=0,n=g.length;c<n;c++)d(b[g[c]],f)}var g=-1!==b.indexOf("*"),f=b.split(".");f.slice(0,f.indexOf("*"));var c=-1!==f.indexOf("*")?f.slice(f.indexOf("*"),f.length):[],n=1===c.length,l=f.pop(),f=0!==f.length?this.__kbnonproxy.getLayer(f.join(".")):this.__kbnonproxy;g?n?d(f,"*"):(c.shift(),f.subscribeDeep(c.join("."),e)):d(f,l);return this}),unsubscribeDeep:c(function(b,e){function d(b,f){var g=Object.keys(b,"all").filter(function(e){return q.call(b[e])&&
!(b[e]instanceof HTMLElement)}.bind(b));if((void 0!==b[f]||"*"===f)&&void 0!==b.__kbparentsubscribers[f])for(var c=0,n=b.__kbparentsubscribers[f].length;c<n;c++)b.__kbparentsubscribers[f][c].toString()===e.toString()&&b.__kbparentsubscribers[f].splice(c,1);c=0;for(n=g.length;c<n;c++)d(b[g[c]],f)}var g=-1!==b.indexOf("*"),f=b.split(".");f.slice(0,f.indexOf("*"));var c=-1!==f.indexOf("*")?f.slice(f.indexOf("*"),f.length):[],n=1===c.length,l=f.pop(),f=0!==f.length?this.__kbnonproxy.getLayer(f.join(".")):
this.__kbnonproxy;g?n?d(f,"*"):(c.shift(),f.unsubscribeDeep(c.join("."),e)):d(f,l);return this}),callSubscribers:c(function(b,e,d,g,f,c){var n=this.__kbnonproxy;if(void 0!==n.__kbsubscribers[d])for(var l=0,h=n.__kbsubscribers[d].length;l<h;l++)n.__kbsubscribers[d][l].call(this,{key:d,value:g,oldValue:f,stopChange:c,local:e,kbref:b});if(void 0!==n.__kbparentsubscribers[d])for(l=0,h=n.__kbparentsubscribers[d].length;l<h;l++)n.__kbparentsubscribers[d][l].call(this,{key:d,value:g,oldValue:f,stopChange:c,
local:e,kbref:b});if(void 0!==n.__kbsubscribers["*"])for(l=0,h=n.__kbsubscribers["*"].length;l<h;l++)n.__kbsubscribers["*"][l].call(this,{key:d,value:g,oldValue:f,stopChange:c,local:e,kbref:b});if(void 0!==n.__kbparentsubscribers["*"])for(l=0,h=n.__kbparentsubscribers["*"].length;l<h;l++)n.__kbparentsubscribers["*"][l].call(this,{key:d,value:g,oldValue:f,stopChange:c,local:e,kbref:b});return this}),callAllSubscribers:c(function(){function b(b,d,g){for(var f=0,c=d.length;f<c;f++)d[f].call(b,{key:g,
value:b[g],oldValue:b[g],stopChange:!1,local:b,kbref:b.__kbref,initial:!0})}(function(d){for(var k=Object.keys(d.__kbsubscribers),g=Object.keys(d.__kbparentsubscribers),f=0,c=k.length;f<c;f++)if(0!==d.__kbsubscribers[k[f]].length)if("*"===k[f])for(var n=0,l=Object.keys(d),h=l.length;n<h;n++)b(d,d.__kbsubscribers[k[f]],l[n]);else b(d,d.__kbsubscribers[k[f]],k[f]);f=0;for(c=g.length;f<c;f++)if(0!==d.__kbparentsubscribers[g[f]].length)if("*"===g[f])for(n=0,l=Object.keys(d),h=l.length;n<h;n++)b(d,d.__kbparentsubscribers[g[f]],
l[n]);else b(d,d.__kbparentsubscribers[g[f]],g[f])})(this.__kbnonproxy);return this}),stopChange:c(function(){this.__kbnonproxy._stopChange=!0;return this})});Object.defineProperties(L.prototype,{addDataListener:c(D("addDataListener","__kblisteners")),removeDataListener:c(H("removeDataListener","__kblisteners")),addDataUpdateListener:c(D("addDataUpdateListener","__kbupdatelisteners")),removeDataUpdateListener:c(H("removeDataUpdateListener","__kbupdatelisteners")),addDataCreateListener:c(D("addDataCreateListener",
"__kbcreatelisteners")),removeDataCreateListener:c(H("removeDataCreateListener","__kbcreatelisteners")),addDataDeleteListener:c(D("addDataDeleteListener","__kbdeletelisteners")),removeDataDeleteListener:c(H("removeDataDeleteListener","__kbdeletelisteners")),addDataMethodListener:c(D("addDataMethodListener","__kbmethodlisteners")),removeDataMethodListener:c(H("removeDataMethodListener","__kbmethodlisteners")),addDataMethodUpdateListener:c(D("addDataMethodUpdateListener","__kbmethodupdatelisteners")),
removeDataMethodUpdateListener:c(H("removeDataMethodUpdateListener","__kbmethodupdatelisteners")),addChildDataListener:c(A("addChildDataListener","__kbparentlisteners")),removeChildDataListener:c(y("removeChildDataListener","__kbparentlisteners")),addChildDataUpdateListener:c(A("addChildDataUpdateListener","__kbparentupdatelisteners")),removeChildDataUpdateListener:c(y("removeChildDataUpdateListener","__kbparentupdatelisteners")),addChildDataCreateListener:c(A("addChildDataCreateListener","__kbparentcreatelisteners")),
removeChildDataCreateListener:c(y("removeChildDataCreateListener","__kbparentcreatelisteners")),addChildDataDeleteListener:c(A("addChildDataDeleteListener","__kbparentdeletelisteners")),removeChildDataDeleteListener:c(y("removeChildDataDeleteListener","__kbparentdeletelisteners"))});return L}}(),W=function(){return function(){function z(t){if("object"===typeof t)for(var u=0,C=t.length;u<C;u++)K_Components[t[u]]?p(t[u],K_Components[t[u]],document.getElementById("script_"+t[u])):z.load(t[u],"component/"+
t[u]+"/"+location.search,p);else"string"===typeof t&&(K_Components[t[u]]?p(t,K_Components[t],document.getElementById("script_"+t)):z.load(t,"component/"+t+"/"+location.search,p))}var p=function(){},u=/(<\/.*?>)/g;window.K_Components||(window.K_Components={});z.getUnknowns=function(p){var z=p.match(u);return z.map(function(p){return p.replace(/[<\/>]/g,"")}).filter(function(p,c){return document.createElement(p)instanceof HTMLUnknownElement&&-1===z.indexOf(p,c+1)&&!K_Components[p]})};z.load=function(p,
u,C){document.head.appendChild(function(c,p,u){var t=document.createElement("script");t.type="text/javascript";t.charset="utf-8";t.async=!0;t.src=p;t.id="script_"+c;t.onload=function(){u(c,K_Components[c],this)};return t}(p,u,C));return z};z.onLoad=function(t){if(void 0===t)return p;p="function"===typeof t?t:p;return z};return z}}(),U=function(){function z(){function p(d,b){var e=d.length,g;for(g=0;g<e&&(d[g](b),void 0===b._stopPropogation);g++);}function u(d,b){var e=d.length,g;for(g=0;g<e&&(b.child=
b.target,b.target=d[g].parent,d[g].func(b),void 0===b._stopPropogation);g++);}function t(d,b){for(var e=d.length;0<e;r++)if(d[r].toString()===b.toString())return!0;return!1}function z(d,b,e,g,c,f,l,n){this.stopPropagation=function(){this._stopPropogation=!0};this.preventDefault=function(){this._preventDefault=!0};this.value=e;this.oldValue=g;this.target=d;this.attr=b;this.arguments=c;this.action=f;this.child=void 0;this.type=l;this.stopChange=n}function C(){this._attrListeners={};this._attrUpdateListeners=
{};this._styleListeners={};this._styleUpdateListeners={};this._parentStyleListeners={};this._parentStyleUpdateListeners={};this._parentAttrListeners={};this._parentAttrUpdateListeners={};this._injectedStyle={}}function c(d,b,e,g){var c=d.get,f=d.set,l;return function(d){l=c.call(this);e(this,b,d,l,void 0,this._stopChange)&&f.call(this,d);this._stopChange||g(this,b,d,l);this._stopChange=void 0}}function O(d,b,e,g){var c;return function(f){c=d.value;e(this,b,f,c,arguments,this._stopChange)&&(d.value=
f);this._stopChange||g(this,b,f,c,arguments);this._stopChange=void 0}}function I(d,b,e,g){var c=d.value,f;return function(){e(this,b,null,null,arguments,this._stopChange)&&(f=c.apply(this,arguments));this._stopChange||g(this,b,null,null,arguments,f);this._stopChange=void 0;return f}}function R(d,b,e,g,c){var f=c.style,l=b.replace(/([A-Z])/g,"-$1").replace("webkit","-webkit"),n,h;return{get:function(){return h},set:function(d){n=h;e(c,b,d,n,void 0,this._stopChange)&&(h=d,f.setProperty(l,d));this._stopChange||
g(c,b,d,n);this._stopChange=void 0},enumerable:!0,configurable:!0}}function N(d,b,e,g){if("function"!==typeof b)return q;var c=-1!==["value","checked"].indexOf(d),f=-1!==y.indexOf(d),h;if(this.toString()!==q.toString())if(e){var n=this.querySelectorAll("*");e=n.length;for(var r,m=0;m<e;m++){r=n[m].attrListeners();if(c||"*"===d)void 0!==n[m].addInputBinding&&n[m].addInputBinding(),void 0!==n[m].addInputBoxBinding&&n[m].addInputBoxBinding();if(f)q.injectStyleProperty(n[m],d),h=g?"_parentStyleUpdateListeners":
"_parentStyleListeners";else{if("*"===d){h=g?"_parentStyleUpdateListeners":"_parentStyleListeners";e=y.length;for(var w=0;w<e;w++)q.injectStyleProperty(n[m],y[w]);void 0===r[h]["*"]&&(r[h]["*"]=[]);r[h]["*"].push({parent:this,func:b})}h=g?"_parentAttrUpdateListeners":"_parentAttrListeners"}void 0===r[h][d]&&(r[h][d]=[]);r[h][d].push({parent:this,func:b})}}else{r=this.attrListeners();if(f)h=g?"_styleUpdateListeners":"_styleListeners",q.injectStyleProperty(this,d);else{if(c||"*"===d)void 0!==this.addInputBinding&&
this.addInputBinding(),void 0!==this.addInputBoxBinding&&this.addInputBoxBinding();if("*"===d){h=g?"_styleUpdateListeners":"_styleListeners";e=y.length;for(m=0;m<e;m++)q.injectStyleProperty(this,y[m]);void 0===r[h][d]&&(r[h][d]=[]);r[h][d].push(b)}h=g?"_attrUpdateListeners":"_attrListeners"}void 0===r[h][d]&&(r[h][d]=[]);r[h][d].push(b)}else{if(c||"*"===d)for(w=document.querySelectorAll("input, textarea"),e=w.length,m=0;m<e;m++)void 0!==w[m].addInputBinding&&w[m].addInputBinding(),void 0!==w[m].addInputBoxBinding&&
w[m].addInputBoxBinding();if(f){f=Array.prototype.slice.call(document.body.querySelectorAll("*"));e=f.length+1;f.unshift(document.body);for(m=0;m<e;m++)q.injectStyleProperty(f[m],d);h=g?D:l}else{if("*"===d){f=Array.prototype.slice.call(document.body.querySelectorAll("*"));e=f.length+1;c=y.length;f.unshift(document.body);for(m=0;m<e;m++)for(w=0;w<c;w++)q.injectStyleProperty(f[m],y[w]);h=g?D:l;void 0===h[d]&&(h[d]=[]);h[d].push(b)}h=g?B:J}void 0===h[d]&&(h[d]=[]);h[d].push(b)}}function M(d,b,e,g){function c(d,
e){var f=e[d],g=f.length;for(h=0;h<g;h++)f[h].toString()===b.toString()&&f.splice(h,1)}if("function"!==typeof b)return q;["value","checked"].indexOf(d);var f=-1!==y.indexOf(d),h;if(this.toString()!==q.toString())if(e){e=this.querySelectorAll("*");var n=e.length;f?(f=g?"_childStyleUpdateListeners":"_childStyleListeners",c(d,this.attrListeners()[f]),f=g?"_parentStyleUpdateListeners":"_parentStyleListeners"):("*"===d&&(f=g?"_childStyleUpdateListeners":"_childStyleListeners",c(d,this.attrListeners()[f])),
f=g?"_childAttrUpdateListeners":"_childAttrListeners",c(d,this.attrListeners()[f]),f=g?"_parentAttrUpdateListeners":"_parentAttrListeners");for(h=0;h<n;h++){for(var m=e[h].attrListeners()[f][d],r=m.length,w=0;w<r;w++)m[w].isEqualNode(this)&&m.slice(w,1);if("*"===d)for(listenersStyle=g?"_parentStyleUpdateListeners":"_parentStyleListeners",m=e[h].attrListeners()[f][d],r=m.length,w=0;w<r;w++)m[w].isEqualNode(this)&&m.slice(w,1)}}else f?f=g?"_styleUpdateListeners":"_styleListeners":("*"===d&&(f=g?"_styleUpdateListeners":
"_styleListeners",c(d,this.attrListeners()[f])),f=g?"_attrUpdateListeners":"_attrListeners"),c(d,this.attrListeners()[f]);else f?f=g?D:l:("*"===d&&(f=g?D:l,c(d,f)),f=g?B:J),c(d,f)}function Q(d,b){q.addAttrListener.call(this,d,b,!0);return this}function P(d,b){q.addAttrUpdateListener.call(this,d,b,!0);return this}function E(d,b){q.removeAttrListener.call(this,d,b,!0);return this}function G(d,b){q.removeAttrUpdateListener.call(this,d,b,!0);return this}function F(d,b,e){var g=this.attrListeners();"html"===
b&&(b="innerHTML");"events"===b&&(b="onclick");switch(d){case "attr":if(t(g._attrListeners[b],e))return!0;break;case "attrupdate":if(t(g._attrUpdateListeners[b],e))return!0}return!1}function K(){this._stopChange=!0;return this}function q(){function d(b,d){var e,f=d.length;for(e=0;e<f;e++)-1===b.indexOf(d[e])&&b.push(d[e]);return b}function b(b,d){for(var e=Object.keys(b),f,g,c=0,k=e.length;c<k;c++)if(f=e[c],void 0===d[f])d[f]=b[f].slice();else for(var h=0,l=b[f].length;h<l;h++)g=b[f][h],d[f].push(g)}
function e(e){if(3!==e.target.nodeType&&8!==e.target.nodeType){var f=e.target.attrListeners(),g,c=["value","checked"],k=f._attrListeners,h=f._attrUpdateListeners,m=f._parentAttrListeners;g=f._parentAttrUpdateListeners;var v=!1;if(void 0!==J["*"]||void 0!==B["*"])v=!0;if(!0!==v&&void 0!==k["*"]||void 0!==h["*"]||void 0!==m["*"]||void 0!==g["*"])v=!0;if(!0!==v)for(var r=0;r<c.length;r++)if(void 0!==J[c[r]]||void 0!==B[c[r]]||void 0!==k[c[r]]||void 0!==h[c[r]]||void 0!==m[c[r]]||void 0!==g[c[r]]){v=
!0;break}g=v;c=Object.keys(l);k=Object.keys(D);Object.keys(f._styleListeners);Object.keys(f._styleUpdateListeners);h=Object.keys(f._parentStyleListeners);f=Object.keys(f._parentStyleUpdateListeners);m=[];if(0!==c.length||0!==k.length)m=d(m,c),m=d(m,k);if(0!==m.length&&0!==h.length||0!==f.length)m=d(m,h),m=d(m,f);-1!==m.indexOf("*")&&(m=y);var f=m,c=f.length,H,p,k=[],t,h="outerHTML"===e.attr||"outerText"===e.attr?e.attr:void 0,m=e.target;void 0!==h&&(e.attr="appendChild",e.arguments=[e.target],e.target=
e.target.parentElement);if(g){"appendChild"===e.attr&&3!==e.arguments[0].nodeType&&8!==e.arguments[0].nodeType?(k=Array.prototype.slice.call(e.arguments[0].querySelectorAll("input,textarea")),"INPUT"!==e.arguments[0].tagName&&"TEXTAREA"!==e.arguments[0].tagName||k.unshift(e.arguments[0])):k=Array.prototype.slice.call(e.target.querySelectorAll("input,textarea"));t=k.length;for(var A=0;A<t;A++)void 0!==k[A].addInputBinding&&k[A].addInputBinding(),void 0!==k[A].addInputBoxBinding&&k[A].addInputBoxBinding()}"appendChild"===
e.attr&&"#text"!==e.arguments[0].nodeName&&"#comment"!==e.arguments[0].nodeName?(k=Array.prototype.slice.call(e.arguments[0].querySelectorAll("*")),k.unshift(e.arguments[0])):k=Array.prototype.slice.call(e.target.querySelectorAll("*"));g=e.target.__kb._parentAttrListeners;v=e.target.__kb._parentAttrUpdateListeners;r=e.target.__kb._parentStyleListeners;H=e.target.__kb._parentStyleUpdateListeners;t=k.length;for(A=0;A<t;A++){if(0!==c)for(p=0;p<c;p++)q.injectStyleProperty(k[A],f[p]);p=k[A].attrListeners();
b(g,p._parentAttrListeners);b(v,p._parentAttrUpdateListeners);b(r,p._parentStyleListeners);b(H,p._parentStyleUpdateListeners)}void 0!==h&&(e.attr=h,e.target=m,e.arguments=[])}}function c(b){var d=b.target.attributes[b.arguments[0]],e="setAttribute"===b.attr?b.arguments[1]:"";f(b.target,b.arguments[0],e,void 0!==d?d.value:"",[e])||b.preventDefault()}function h(b){var d=b.target.attributes[b.arguments[0]],e="setAttribute"===b.attr?b.arguments[1]:"";r(b.target,b.arguments[0],e,void 0!==d?d.value:"",
[e])}q.injectPrototypes(Node,"Node");q.injectPrototypes(Element,"Element");q.injectPrototypes(HTMLElement,"HTMLElement");q.injectPrototypes(HTMLInputElement,"HTMLInputElement");q.injectPrototypes(HTMLTextAreaElement,"HTMLTextAreaElement");q.injectPrototypes(Document,"Document");var f=m,r=g;q.addAttrUpdateListener("appendChild",e);q.addAttrUpdateListener("removeChild",e);q.addAttrUpdateListener("innerHTML",e);q.addAttrUpdateListener("outerHTML",e);q.addAttrUpdateListener("innerText",e);q.addAttrUpdateListener("outerText",
e);q.addAttrUpdateListener("textContent",e);q.addAttrListener("setAttribute",c);q.addAttrListener("removeAttribute",c);q.addAttrUpdateListener("setAttribute",h);q.addAttrUpdateListener("removeAttribute",h);return q}var J={},B={},l={},D={},H={},A="textContent innerHTML innerText outerHTML outerText appendChild removeChild replaceChild insertAdjacentHTML insertBefore".split(" "),y=Object.getOwnPropertyNames(document.documentElement.style),h=Object.keys(HTMLElement.prototype).filter(function(d){return 0===
d.indexOf("on")}).concat(["addEventListener","removeEventListener"]),r,m=function(d,b,e,g,c,f){e=new z(d,b,e,g,c,void 0,"set",f);void 0!==d.__kb&&(g=d.__kb._attrListeners,c=d.__kb._styleListeners,f=d.__kb._parentAttrListeners,d=d.__kb._parentStyleListeners,void 0!==g[b]&&p(g[b],e),void 0===e._stopPropogation&&void 0!==c[b]&&p(c[b],e),void 0===e._stopPropogation&&void 0!==g["*"]&&(p(g["*"],e),void 0===e._stopPropogation&&p(c["*"],e)),void 0===e._stopPropogation&&void 0!==f[b]&&u(f[b],e),void 0===e._stopPropogation&&
void 0!==d[b]&&u(d[b],e),void 0===e._stopPropogation&&void 0!==f["*"]&&(u(f["*"],e),void 0===e._stopPropogation&&u(d["*"],e)));void 0===e._stopPropogation&&void 0!==J[b]&&p(J[b],e);void 0===e._stopPropogation&&void 0!==l[b]&&p(l[b],e);void 0===e._stopPropogation&&void 0!==J["*"]&&(p(J["*"],e),void 0===e._stopPropogation&&p(l["*"],e));return void 0!==e._preventDefault?!1:!0},g=function(d,b,e,g,c,f){e=new z(d,b,e,g,c,f,"update");void 0!==d.__kb&&(g=d.__kb._attrUpdateListeners,c=d.__kb._styleUpdateListeners,
f=d.__kb._parentAttrUpdateListeners,d=d.__kb._parentStyleUpdateListeners,void 0!==g[b]&&p(g[b],e),void 0===e._stopPropogation&&void 0!==c[b]&&p(c[b],e),void 0===e._stopPropogation&&void 0!==g["*"]&&(p(g["*"],e),void 0===e._stopPropogation&&p(c["*"],e)),void 0===e._stopPropogation&&void 0!==f[b]&&u(f[b],e),void 0===e._stopPropogation&&void 0!==d[b]&&u(d[b],e),void 0===e._stopPropogation&&void 0!==f["*"]&&(u(f["*"],e),void 0===e._stopPropogation&&u(d["*"],e)));void 0===e._stopPropogation&&void 0!==
B[b]&&p(B[b],e);void 0===e._stopPropogation&&void 0!==D[b]&&p(D[b],e);void 0===e._stopPropogation&&void 0!==B["*"]&&(p(B["*"],e),void 0===e._stopPropogation&&p(D["*"],e));return void 0!==e._preventDefault?!1:!0};q.injectPrototypeProperty=function(d,b,e,k,h){var f=d.prototype,l=Object.getOwnPropertyDescriptor(f,b);e=e||d.toString().split(/\s+/)[1].split("{")[0].replace("()","");var n=H[e];k=k||m;h=h||g;void 0===f.attrListeners&&(f={},f.attrListeners=function(){void 0===this.__kb&&(this.__kb=new C);
return this.__kb}.bind(f),f.addAttrListener=q.addAttrListener,f.addAttrUpdateListener=q.addAttrUpdateListener,f.addChildAttrListener=Q,f.addChildAttrUpdateListener=P,f.hasListener=F,f.removeAttrListener=q.removeAttrListener,f.removeAttrUpdateListener=q.removeAttrUpdateListener,f.removeChildAttrListener=E,f.removeChildAttrUpdateListener=G,f.stopChange=K);void 0===n&&(H[e]={obj:d,proto:f,descriptors:{},set:void 0,update:void 0},n=H[e],n.set=k,n.update=h);void 0===n.descriptors[b]&&(n.descriptors[b]=
l);l.configurable&&(void 0!==l.set?Object.defineProperty(f,b,{get:l.get,set:c(l,b,k,h),enumerable:!0,configurable:!0}):"function"===typeof l.value?Object.defineProperty(f,b,{value:I(l,b,k,h),writable:!0,enumerable:!0,configurable:!0}):void 0!==l.value&&Object.defineProperty(f,b,{get:function(){return l.value},set:O(l,b,k,h),enumerable:!0,configurable:!0}));return q};q.injectStyleProperty=function(d,b,e,c){var h=d.style,f=Object.getOwnPropertyDescriptor(h,b),l=d.attrListeners().injectedStyle;e=e||
m;c=c||g;void 0===l&&(d.attrListeners().injectedStyle={obj:d,proto:h,descriptors:{},set:void 0,update:void 0},d.attrListeners().injectedStyle.set=e,d.attrListeners().injectedStyle.update=c,l=d.attrListeners().injectedStyle);void 0===l.descriptors[b]&&(l.descriptors[b]=f);f.configurable&&Object.defineProperty(h,b,R(f,b,e,c,d));return q};q.injectPrototypes=function(d,b,e,c){var h=d.prototype;b=b||d.toString().split(/\s+/)[1].split("{")[0].replace("()","");var f=H[b],l=Object.getOwnPropertyNames(h);
e=e||m;c=c||g;var n;void 0===h.attrListeners&&(h.attrListeners=function(){void 0===this.__kb&&(this.__kb=new C);return this.__kb},h.addAttrListener=q.addAttrListener,h.addAttrUpdateListener=q.addAttrUpdateListener,h.addChildAttrListener=Q,h.addChildAttrUpdateListener=P,h.removeAttrListener=q.removeAttrListener,h.removeAttrUpdateListener=q.removeAttrUpdateListener,h.removeChildAttrListener=E,h.removeChildAttrUpdateListener=G,h.hasListener=F,h.stopChange=K);void 0===f&&(H[b]={obj:d,proto:h,descriptors:{},
set:void 0,update:void 0},f=H[b],f.set=e,f.update=c);n=H[b].descriptors;for(c=0;c<l.length;c+=1)void 0===n[l[c]]&&q.injectPrototypeProperty(d,l[c],b,e,g);if(-1!==l.indexOf("value")){var r=function(b){var d,e,g;if("checkbox"===this.type||"radio"===this.type)d=!0;e=d?"string"===typeof this.checked?this.checked:this.checked?"true":"false":this.value;setTimeout(function(){g=d?"string"===typeof this.checked?this.checked:this.checked?"true":"false":this.value;d&&(f.set(this,"checked",this.checked,e)?f.update(this,
"checked",this.checked,e):n.checked.set.call(this,e));this.value!==g&&(this.value=g);f.set(this,"value",this.value,e)?f.update(this,"value",this.value,e):n.value.set.call(this,e)}.bind(this),0)};h.removeInputBinding=function(){this.attrListeners()._onkeydown=void 0;this.removeEventListener("keydown",r)};h.addInputBinding=function(){this.attrListeners()._onkeydown=!0;this.addEventListener("keydown",r)};h.removeInputBoxBinding=function(){this.attrListeners()._onmousedown=void 0;this.removeEventListener("mouseup",
r)};h.addInputBoxBinding=function(){this.attrListeners()._onmousedown=!0;this.addEventListener("mouseup",r)}}return q};q.addAttrListener=function(d,b,e){if("html"===d){d=0;for(var g=A.length;d<g;d++)N.call(this,A[d],b,e,!1)}else if("events"===d)for(d=0,g=h.length;d<g;d++)N.call(this,h[d],b,e,!1);else N.call(this,d,b,e,!1);return this};q.addAttrUpdateListener=function(d,b,e){if("html"===d){d=0;for(var g=A.length;d<g;d++)N.call(this,A[d],b,e,!0)}else if("events"===d)for(d=0,g=h.length;d<g;d++)N.call(this,
h[d],b,e,!0);else N.call(this,d,b,e,!0);return this};q.removeAttrListener=function(d,b,e){if("html"===d){d=0;for(var g=A.length;d<g;d++)M.call(this,A[d],b,e,!1)}else if("events"===d)for(d=0,g=h.length;d<g;d++)M.call(this,h[d],b,e,!1);else M.call(this,d,b,e,!1);return this};q.removeAttrUpdateListener=function(d,b,e){if("html"===d){d=0;for(var g=A.length;d<g;d++)M.call(this,A[d],b,e,!0)}else if("events"===d)for(d=0,g=h.length;d<g;d++)M.call(this,h[d],b,e,!0);else M.call(this,d,b,e,!0);return this};
q.hasListener=function(d,b,e){"html"===b&&(b="innerHTML");"events"===b&&(b="onclick");switch(d){case "attr":if(t(J[b],e))return!0;break;case "attrupdate":if(t(B[b],e))return!0}return!1};q.injectedPrototypes=function(){return H};return q}"function"===typeof define&&define.amd&&define("KB",z);return z}(),X=function(z){return function(){function p(c){document.createDocumentFragment();this.name=c.tagName.toLowerCase();this.template=K[this.name]||'<div class="missing_component">Unknown Component</div>';
this.node=c;this.fragment=document.createDocumentFragment();this.wrapper=this.fragment.appendChild(document.createElement("div"));this.wrapper.className="Wrapper Wrapper__"+this.name}function u(c,D,H,p){return{value:c,writable:!!D,enumerable:!!p,configurable:!!H}}function t(){return new RegExp("(\\"+E.split("").join("\\")+")(.*?)(\\"+G.split("").join("\\")+")","g")}function L(c){return c.split(new RegExp("("+E.split("").join("\\")+")(.*?)("+G.split("").join("\\")+")","g")).map(function(c,l,p){return p[l-
1]===E?E+c+G:c}).filter(function(c,l,p){return 0!==c.length&&c!==E&&c!==G&&0!==c.length})}function C(c){return c.replace(new RegExp("["+E+G+"]","g"),"").replace(new RegExp("\\"+F.split("").join("\\")+"(.*)"),"")}function c(c){return c.reduce(function(c,l){l.match(/(\()(.*?)(\))/)?c.vmFilters[c.vmFilters.length]=l.replace(/[\(\)]/g,""):l.match(/(\[)(.*?)(\])/)?-1!==l.indexOf("~")?c.model[c.model.length]=l.replace(/[\[\]\~]/g,""):-1!==l.indexOf("+")?c.local[c.local.length]=l.replace(/[\[\]\+]/g,""):
c.session[c.session.length]=l.replace(/[\[\]\-]/g,""):c.filters[c.filters.length]=l;return c},{filters:[],vmFilters:[],model:[],local:[],session:[]})}function O(c){return-1!==c.indexOf("for")?c.replace(new RegExp("["+E+G+"]","g"),"").replace(/\|(.*)/,"").replace(/\s/g,"").split(/for(.*?)loop/).filter(function(c){return 0!==c.length}):[]}function I(c){if(2>c.split("==").length&&2>c.split("<=").length&&2>c.split(">=").length&&-1!==c.indexOf("="))return c.substring(c.indexOf("=")+1,c.length)}function R(c){var p=
c.match(/^(\s*)(>)((.*?)+)/),q=c.match(/^(\s*)(<)((.*?)+)/);c=c.replace(/(^<|^>)((.*?)+)/,"$2");var t=I(c),u=c.match(/((==|<=|>=|<|>)((.*?)+))/g),h=c.match(/(([\+\*-\/])((.*?)+))/g);return{type:p?"insert":q?"outsert":void 0,set:t!==c?t:void 0,filters:u||h?{boolFilter:u?eval("(function(){ return function(v){ return (v"+u[0]+");};}())"):void 0,mathFilter:h?eval("(function(){ return function(v){ return (v"+h[0]+");};}())"):void 0}:void 0}}function N(c){if(0!==c.length){for(var p="",q=0,t=c.length;q<
t;q++)p="string"===typeof c[q]?p+c[q]:void 0===c[q]._data?p+c[q].text:p+M(c[q]._data.get(c[q].key),c[q].filters.filters,c[q]._data.filters);return p}return M(c[0]._data.get(c[0].key),c[0].filters.filters,c[0]._data.filters)}function M(c,p,q){for(var t=0,u=p.length;t<u;t++)q[p[t]]&&(c=q[p[t]](c));return c}function Q(c,p,q,t){for(var u=0,h=p.length;u<h;u++)if(q[p[u]])q[p[u]](c,t);return c}function P(){function l(g,d){var b=R(d);this.text=g;this.key=d.replace(/(^>|^<*)(.*?)([=*+-\/<>]+)((.*?)+)/g,"$2").replace(/\s/g,
"");this.keyLength=this.key.split(".").length;this.localKey=this.key.split(".").pop();var e;e=-1!==g.indexOf(F)?g.replace(new RegExp("["+G+"]","g"),"").replace(new RegExp("(.*?)(\\"+F.split("").join("\\")+")"),"").replace(/\s/g,"").split(","):[];this.filters=c(e);this.component="for"===this.type?O(g)[1]:void 0;this.id=0;this.subType=b.subtype;this.set=b.set;this.inlineFilters=b.filters}function p(c,d){for(var b=0,e=d.length;b<e;b++)c.stopChange().appendChild(d[b])}function q(c){if(c&&window.model)return window.model.get(c[0])}
function t(c,d){if(d&&0!==d.length&&window.model)for(var b=0,e=d.length;b<e;b++)window.model.set(d[b],c)}function y(c){if(c&&window.localStorage)return localStorage.getItem(c[0])}function h(c,d){if(c&&0!==c.length&&window.localStorage)for(var b=0,e=c.length;b<e;b++)localStorage.setItem(c[b],d)}function r(c){if(c&&window.sessionStorage)return sessionStorage.getItem(c[0])}function m(c,d){if(c&&0!==c.length&&window.sessionStorage)for(var b=0,e=c.length;b<e;b++)sessionStorage.setItem(c[b],d)}Object.defineProperties(l.prototype,
{addPointer:u(function(c){for(var d=document.createElement(this.component),b=Q(this._data.getLayer(this.key),this.filters.filters,this._data.filters,c)[c],e=0,h=Object.keys(b,"all"),l=h.length;e<l;e++)d.k_post||(d.k_post={}),d.k_post[h[e]]=b,d.k_post.x=c,d.k_post.loopid=this.component+"_"+c;c>=this.node.children.length?this.node.stopChange().appendChild(d):this.node.stopChange().insertBefore(d,this.node.children[c]);c={event:"loopitem",node:d,parent:this.node};d=B[c.event];b=0;for(e=d.length;b<e;b++)d[b](c);
return this}),removePointer:u(function(c){for(var d=this.node.children[c].kb_maps,b=0,e=Object.keys(this.node.children[c].kb_viewmodel.pointers),h=e.length;b<h;b++){var l=d[e[b]];if(l)for(var f=0,m=l.length;f<m;f++)l[f].unsync(),l[f]=null,delete l[f]}this.node.stopChange().removeChild(this.node.children[c]);b=0;for(h=this.node.children.length;b<h;b++)this.node.children[b].kb_viewmodel.x=b,c=this.node.children[b].kb_viewmodel.loopid,this.node.children[b].kb_viewmodel.loopid=c.substring(0,c.lastIndexOf("_")+
1)+b;return this}),reapplyPointer:u(function(c){for(var d=this.node.children[c].kb_maps,b=this.node.children[c].kb_viewmodel.loopid,e=0,h=Object.keys(this.node.children[c].kb_viewmodel.pointers),l=h.length;e<l;e++){var f=d[h[e]];if(void 0!==f)for(var m=0,n=f.length;m<n;m++)f[m].reconnect()}this.node.children[c].kb_viewmodel.x=c;this.node.children[c].kb_viewmodel.loopid=b.substring(0,b.lastIndexOf("_")+1)+c;return this}),connect:u(function(c){var d=this;this._data=c;if("for"!==this.type){if(this.insert){this.setDom(this._data.get(this.key));
this.unsync();return}if(this.set){var b=!isNaN(parseInt(this.set,10))&&parseInt(this.set,10).toString().length===this.set.length,e="true"===this.set.replace(/\s/g,"")||"false"===this.set.replace(/\s/g,""),h=-1!==this.set.indexOf('"')||-1!==this.set.indexOf("'");(this.set=b?parseInt(this.set,10):e?"true"===this.set.replace(/\s/g,""):h?this.set.replace(/((\s*\"|\')(.*?)(\"|\'))/g,"$3"):void 0)&&this._data.set(this.key,this.set)}if(this.outsert){this.setDom("");this.unsync();return}this.inlineFilters&&
(this.inlineFilters.boolFilter?(this.filters.filters.unshift("boolFilter"),this._data.filters.boolFilter=this.inlineFilters.boolFilter):(this.filters.filters.unshift("mathFilter"),this._data.filters.mathFilter=this.inlineFilters.mathFilter));this.dataListener=function(b){"delete"===b.event?d.unsync():d.setDom(b.value)};c.getLayer(this.key).addDataUpdateListener(this.localKey,this.dataListener);1===this.bindText.length&&(this.domListener=function(b){d.setData(b.value)},this.node.addAttrUpdateListener(this.listener,
this.domListener))}else this.dataListener=function(b){"postset"!==b.type||b.oldValue&&0!==b.oldValue.length||(b.event="create");d.setLoop(b.key,b.event)},c.getLayer(this.key).addDataMethodUpdateListener(this.dataListener);"for"!==this.type&&(this.filters.model&&0!==this.filters.model.length?this._data.stopChange().set(this.key,q(this.filters.model)):this.filters.session&&0!==this.filters.session.length?this._data.stopChange().set(this.key,r(this.filters.session)):this.filters.local&&0!==this.filters.local.length&&
this._data.stopChange().set(this.key,y(this.filters.local)),this.isEvent?this.node.stopChange()[this.attr]=this._data.get(this.key):"innerHTML"===this.key?(this.node.stopChange().innerHTML="",p(this.node,this._data.innerHTML)):(this.local.stopChange()[this.localAttr]=N(this.bindText),this.isInput&&-1!==["value","checked"].indexOf(this.attr)&&(this.node.stopChange()[this.attr]=this._data.get(this.key))));return this}),reconnect:u(function(){"for"!==this.type?(this._data.getLayer(this.key).removeDataUpdateListener(this.localKey,
this.dataListener),1===this.bindText.length&&this.node.removeAttrUpdateListener(this.listener,this.domListener)):data.getLayer(this.key).removeDataMethodUpdateListener(this.extraListener);this.connect(this._data);return this}),createloop:u(function(){this.node.stopChange().innerHTML="";for(var c=0,d=Q(this._data.get(this.key),this.filters.filters,this._data.filters).length;c<d;c++)this.setLoop(c,"create");return this}),setData:u(function(c){c=M(c,this.filters.vmFilters,this._data.filters);this._data.stopChange().set(this.key,
c);t(this.filters.model,c);m(this.filters.session,c);h(this.filters.local,c);return this}),setDom:u(function(c){t(this.filters.model,c);m(this.filters.session,c);h(this.filters.local,c);this.isEvent?this.node.stopChange()[this.attr]=this._data.get(this.key):this.isInput&&-1!==["value","checked"].indexOf(this.attr)?this.node.stopChange()[this.attr]=this._data.get(this.key):"innerHTML"===this.key?(this.node.stopChange().innerHTML="",p(this.node,this._data.innerHTML)):this.local.stopChange()[this.localAttr]=
N(this.bindText);return this}),setLoop:u(function(c,d){switch(d){case "create":this.addPointer(c);break;case "delete":this.removePointer(c);break;case "set":this.reapplyPointer(c);break;default:if("push"!==d)for(var b=0,e=this._data.getLayer(this.key).length;b<e;b++)this.reapplyPointer(b)}return this}),bindMaps:u([]),unsync:u(function(){this._data=this.__proto__.bindText=null;delete this._data;this.bindMaps=null;delete this.bindMaps;this.binds=null;delete this.binds;return this})});return l}var E=
"{{",G="}}",F="|",K={},q=/(<\/.*?>)/g;z().call();var J=Object.keys(HTMLElement.prototype).filter(function(c){return 0===c.indexOf("on")}),B={loopitem:[]};p.start=function(c){if(void 0===c)return E;E="string"===typeof c?c:E;return p};p.end=function(c){if(void 0===c)return G;G="string"===typeof c?c:G;return p};p.pipe=function(c){if(void 0===c)return F;F="string"===typeof c?c:F;return p};p.getUnknown=function(c){var p=c.match(q).map(function(c){return c.replace(/[<\/>]/g,"")});p.filter(function(c,l){return document.createElement(c)instanceof
HTMLUnknownElement&&-1===p.indexOf(c,l+1)&&void 0===K[c]});return p};p.isRegistered=function(c){return void 0!==K[c]};p.register=function(c,q){void 0===K[c]?(K[c]=q,p.getUnknown(q)):console.error("Class: KonnektMP Method: 'register', A template by the name %o already exists",c);return this};p.addEventListener=function(c,q){void 0!==B[c]?B[c].push(q):console.error("Class: KonnektMP Method: 'addEventListener', No event exists with the name %o",c);return p};p.removeEventListener=function(c,q){if(void 0!==
B[c])for(var t=0,u=B[c].length;t<u;t++)B[c][t].toString()===q.toString()&&B[c].splice(t,1);else console.error("Class: KonnektMP Method: 'removeEventListener', No event exists with the name %o",c);return p};Object.defineProperties(p.prototype,{register:u(p.register),isRegistered:u(p.isRegistered),getUnknown:u(p.getUnknown),map:u(function(c){function p(q,u){for(var y=0,h=q.length;y<h;y++)if(void 0===q[y].kb_maps&&8!==q[y].nodeType){q[y].kb_mapper=c;q[y].kb_maps=u;if(3===q[y].nodeType){var r=q[y],m=
u,g=r.textContent;if(g.match(t())){var d=L(g),b=P();b.prototype.type=g.match(new RegExp("(\\"+E.split("").join("\\")+")(.*?)(for)(.*?)(loop)(.*?)(\\"+G.split("").join("\\")+")","g"))?"for":"text";b.prototype.text=g;b.prototype.bindText=d;b.prototype.listener="textContent";b.prototype.attr="textContent";b.prototype.localAttr="textContent";b.prototype.local=r;b.prototype.node=r.parentElement;b.prototype.binds=m;r=0;for(g=d.length;r<g;r++)if(0===d[r].indexOf(E)){var e="for"===b.prototype.type?O(d[r])[0]:
C(d[r]),k=new b(d[r],e);void 0===m[e]&&(m[e]=[]);k.bindText[r]=k;k.bindMaps.push(k);k.id=m[e].length;m[e].push(k)}}}else for(m=q[y],d=u,b=Array.prototype.slice.call(m.attributes),r=m instanceof HTMLUnknownElement,g=0,e=b.length;g<e;g++)if(b[g].value.match(t())){var k=L(b[g].value),v=P();v.prototype.type=r?"component":"attribute";v.prototype.text=b[g].value;v.prototype.bindText=k;v.prototype.isEvent=-1!==J.indexOf(b[g].name);v.prototype.isInput="input"===m.tagName.toLowerCase();v.prototype.isRadio=
v.prototype.isInput?-1!==["radio","checkbox"].indexOf(m.type):!1;v.prototype.listener=b[g].name;v.prototype.attr=b[g].name;v.prototype.localAttr="value";v.prototype.local=b[g];v.prototype.node=m;v.prototype.binds=d;v.prototype.isEvent&&m.removeAttribute(b[g].name);for(var f=0,z=k.length;f<z;f++)if(0===k[f].indexOf(E)){var n=C(k[f]),x=new v(k[f],n);void 0===d[n]&&(d[n]=[]);x.bindText[f]=x;x.bindMaps.push(x);x.id=d[n].length;d[n].push(x)}}q[y].childNodes&&0!==q[y].childNodes.length&&(u=p(q[y].childNodes,
u))}return u}return p(c.childNodes,{})}),insert:u(p.insert)});return p}}(U),Y=function(){return function(){function z(t){0===t.length&&(t=p);document.body.innerHTML="<"+t+"></"+t+">";u(t);return z}var p="",u=function(){};z.base=function(t){if(void 0===t)return p;p="string"===typeof t?t:p;return z};z.onChange=function(p){if(void 0===p)return u;u="function"===typeof p?p:u;return z};z.watch=function(p){window.onhashchange=p?function(){z(window.location.hash.replace("#",""))}:null;return z};return z}}(),
S=function(z,p,u,t,L){return function(u){function c(h,r,m,g){function d(b,c,d,e,f){for(var g=E({},b),h=0,k=Object.keys(c.prototype),m=k.length;h<m;h++)g.__proto__[k[h]]=c.prototype[k[h]];h=0;k=Object.keys(e);for(m=k.length;h<m;h++)-1!==H.indexOf(k[h])?Object.defineProperty(g,k[h],I(e[k[h]],"filters"!==k[h])):e.pointers?void 0===e.pointers[k[h]]&&g.set(k[h],e[k[h]]):g.set(k[h],e[k[h]]);if(e.pointers)for(g.pointers||Object.defineProperty(g,"pointers",I({},!1,!0)),h=0,k=Object.keys(e.pointers),m=k.length;h<
m;h++)g.pointers[k[h]]=e.pointers[k[h]],g.addPointer(g.pointers[k[h]].point,g.pointers[k[h]].key,k[h]);c.apply(g,d);h=0;k=Object.keys(f);for(m=k.length;h<m;h++)-1!==H.indexOf(k[h])?Object.defineProperty(g,k[h],I(f[k[h]],"filters"!==k[h])):f.pointers?void 0===f.pointers[k[h]]&&g.set(k[h],f[k[h]]):g.set(k[h],f[k[h]]);if(f.pointers)for(g.pointers||Object.defineProperty(g,"pointers",I({},!1,!0)),h=0,k=Object.keys(f.pointers),m=k.length;h<m;h++)g.pointers[k[h]]=f.pointers[k[h]],g.addPointer(g.pointers[k[h]].point,
g.pointers[k[h]].key,k[h]);h=0;k=Object.keys(g.filters);for(m=k.length;h<m;h++)g.filters[k[h]]=g.filters[k[h]].bind(g);if(g.sessionStorage){if(c=sessionStorage.getItem(g.id||b))for(c=JSON.parse(c),h=0,k=Object.keys(c),m=k.length;h<m;h++)g.set(k[h],c[k[h]]);else sessionStorage.setItem(g.id||b,g.stringify());g.addChildDataUpdateListener("*",function(){sessionStorage.setItem(g.id||b,g.stringify())})}if(g.localStorage){if(c=localStorage.getItem(g.id||b))for(c=JSON.parse(c),h=0,k=Object.keys(c),m=k.length;h<
m;h++)g.set(k[h],c[k[h]]);else localStorage.setItem(g.id||b,g.stringify());g.addChildDataUpdateListener("*",function(){localStorage.setItem(g.id||b,g.stringify())})}g.store&&q.set(g.id||b,g);return g}function b(b,c,d){b.kb_viewmodel=d;var e=c.maps=c.map(c.wrapper);c.wrapper.kb_maps=e;Object.keys(e).forEach(function(b){e[b].forEach(function(b){switch(b.type){case "for":b.connect(d).createloop();break;case "component":b.connect(d).unsync();break;default:b.connect(d)}})});c.wrapper.kb_viewmodel.onFinish.call(c.wrapper.kb_viewmodel,
c.wrapper)}function e(b){b=b.querySelectorAll("*");for(var d=0,e=b.length;d<e;d++)b[d]instanceof HTMLUnknownElement&&c(b[d])}function k(c,g){f=new F(g,!0);f.wrapper.innerHTML=f.template;Object.defineProperty(f.wrapper,"__kbcomponenttree",I(g.kb_mapper?g.kb_mapper.__kbcomponenttree.slice():[]));g.parentElement.replaceChild(f.fragment,g);r.unshift(f.wrapper);b(f.wrapper,f,d(c,J[c],r,n,u));-1===f.wrapper.__kbcomponenttree.indexOf(c)||f.wrapper.kb_viewmodel.multiple?(f.wrapper.__kbcomponenttree.push(c),
f.wrapper.className+=" "+f.wrapper.kb_viewmodel.local,f.wrapper.className+=" "+f.wrapper.kb_viewmodel.id,f.wrapper.className+=f.wrapper.kb_viewmodel.loopid?" "+f.wrapper.kb_viewmodel.loopid:"",f.wrapper.kb_viewmodel.subscribeDeep("*",function(b){var c=this.__kbref.local,d=this.__kbref.id,e=this.__kbref.loopid,f=this.__kbscopeString+(0!==this.__kbscopeString.length?".":"")+b.key;if(l[c]&&l[c][f])for(var g=0,h=l[c][f].length;g<h;g++)l[c][f][g](b);if(l[d]&&l[d][f])for(g=0,h=l[d][f].length;g<h;g++)l[d][f][g](b);
if(l[e]&&l[e][f])for(g=0,h=l[e][f].length;g<h;g++)l[e][f][g](b)}).callAllSubscribers(),e(f.wrapper)):(console.error("Warning!! You are attempting to make a recursive component %o, recursive components can lead to memory stack overflows unless properly handled, Please check your components html for use of this component, if You want this to be a recursive component please set `this.multiple = true;`",c),console.error("Recursive Component %o on %o",f.wrapper,f.wrapper.parentElement),f.wrapper.parentElement.removeChild(f.wrapper))}
var p=h.tagName.toLowerCase(),f,t=Object.keys(HTMLElement.prototype).filter(function(b){return 0===b.indexOf("on")}),n={},u={};void 0===r&&(r=[]);m&&O(m,n);Object.defineProperty(n,"local",I(n.local||"local_"+p+"-"+(Math.floor(Math.random()*Date.now())+1),!0,!1,!0));Object.defineProperty(n,"id",I(n.id||"id_"+p+"-"+(Math.floor(Math.random()*Date.now())+1),!0,!1,!0));Object.defineProperty(n,"filters",I(n.filters||{},!1,!1,!0));"function"!==typeof n.onFinish&&(n.onFinish=function(){});Object.defineProperty(n,
"onFinish",I(n.onFinish,!0,!1,!0));"function"!==typeof n.listen&&(n.listen=N);Object.defineProperty(n,"listen",I(n.listen,!0,!1,!0));"function"!==typeof n.unlisten&&(n.unlisten=R);Object.defineProperty(n,"unlisten",I(n.unlisten,!0,!1,!0));"function"!==typeof n.alert&&(n.alert=M);Object.defineProperty(n,"alert",I(n.alert,!0,!1,!0));"string"===typeof n.sessionStorage&&(n.sessionStorage="true"===n.sessionStorage);Object.defineProperty(n,"sessionStorage",I(void 0!==n.sessionStorage?n.sessionStorage:!1,
!0,!1,!0));"string"===typeof n.localStorage&&(n.localStorage="true"===n.localStorage);Object.defineProperty(n,"localStorage",I(void 0!==n.localStorage?n.localStorage:!1,!0,!1,!0));"string"===typeof n.store&&(n.store="true"===n.store);Object.defineProperty(n,"store",I(void 0!==n.store?n.store:!1,!0,!1,!0));"string"===typeof n.multiple&&(n.multiple="true"===n.multiple);Object.defineProperty(n,"multiple",I(void 0!==n.multiple?n.multiple:!1,!0,!1,!0));g&&O(g,u);u.innerHTML=Array.prototype.slice.call(h.childNodes);
m=0;for(g=h.attributes.length;m<g;m++)u[h.attributes[m].name]=h.attributes[m].value;m=0;for(g=t.length;m<g;m++)h[t[m]]&&(u[t[m]]=h[t[m]]);h.k_post&&O(h.k_post,u);c.isRegistered(p)||h.kb_isLoading?c.isRegistered(p)&&k(p,h):(c.loadWaitList(p,function(b,c){k(p,h)}),c.loadWaitList(p).loading||(c.loadWaitList(p).loading=!0,P(p)))}function O(c,l){var m=Object.keys(c);l.pointers||Object.defineProperty(l,"pointers",{value:{},writable:!0,enumerable:!1,configurable:!0});for(var g=0,d=m.length;g<d;g++)if(E.prototype.isObservable(c,
m[g]))l.pointers[m[g]]={key:c.__kbscopeString.split(".").pop(),point:c.__kbImmediateParent};else if(E.prototype.isMixed(c[m[g]]))l.pointers[m[g]]={key:c[m[g]].__kbscopeString.split(".").pop(),point:c[m[g]].__kbImmediateParent};else if(E.prototype.isObject(c[m[g]]))for(var b=0,e=Object.keys(c[m[g]]);b<d;b++)l[m[g]][e[b]]=c[m[g]][e[b]];else if(E.prototype.isArray(c[m[g]]))for(b=0;b<d;b++)l[m[g]][b]=c[m[g]][b];else l[m[g]]=c[m[g]]}function I(c,l,m,g){return{value:c,writable:!!l,enumerable:!!g,configurable:!!m}}
function R(c,r,m){if(2===arguments.length)if(m=r.bind(this),r=c,B[r])for(var g=0,d=B[r].length;g<d;g++)B[r][g].toString()===m.toString()&&B[r].splice(g,1);else console.error("no listeners exists by key %o",r);else if(m=m.bind(this),l[c]&&l[c][r])for(g=0,d=l[c][r].length;g<d;g++)l[c][r].toString()===m.toString()&&l[c][r].splice(g,1);return this}function N(c,r,m){if(2===arguments.length)m=r.bind(this),r=c,B[r]||(B[r]=[]),B[r].push(m);else if(m=m.bind(this),l[c]||(l[c]={}),l[c][r]||(l[c][r]=[]),l[c][r].push(m),
document.querySelector("."+c)){var g=l[c][r],d=document.querySelector("."+c).kb_mapper.kb_viewmodel,b=d.getLayer(r),e=r.split(".").pop(),k=b[e];g[g.length-1]({key:e,value:k,oldValue:k,local:b,kbref:d,onChange:!1,initial:!0})}return this}function M(c,l){if(B[c])for(var m=0,g=B[c].length;m<g;m++)B[c][m](l);return this}function Q(){if(!document.querySelector('meta[name="viewport"]')){var h=document.createElement("meta");h.name="viewport";h.content="width=device-width, initial-scale=1.0";document.head.appendChild(h)}c.device||
(c.device={});c.device.type=c.detectDevice();c.device.orientation=c.detectOrientation();c.device.browser=c.detectBrowser();c.device.screenSize=c.detectScreenSize();c.device.orientationSize=c.detectScreenOrientation();c.device.keyboard="desktop"!==c.device.type?window.innerHeight<screen.height-.4*screen.height:!1;document.body.className=c.device.type+" "+c.device.orientation+(c.device.keyboard?" keyboard":"")+" "+c.device.browser+" "+c.device.screenSize+" "+c.device.orientationSize}window.K_Components||
(window.K_Components={});var P=p().onLoad(function(h,l){var m="<style>"+unescape(l.prototype.k_css)+"</style>"+unescape(l.prototype.k_html);c.register(h,l,m,l.prototype.cms);c.loadWaitList(h).forEach(function(c){c(h,l)});c.loadWaitList(h,"clear")}),E=z(),G=u||{},F=t().addEventListener("loopitem",function(h){var l=h.node.tagName.toLowerCase();c.isRegistered(l)||h.node.kb_isLoading?c.isRegistered(l)&&c(h.node):(h.node.kb_isLoading=!0,c.loadWaitList(l,function(m,g){c(h.node)}),c.loadWaitList(l).loading||
(c.loadWaitList(l).loading=!0,P(l)))}),K=L().base(void 0!==G.base?G.base:"default").watch(!0).onChange(function(h){c(document.querySelector(h))}),q=E({},"Model"),J={},B={},l={},D=function(){return window.location.search.replace("?","").split("&").filter(function(c){return 0!==c.length}).reduce(function(c,l){c[l.split("=")[0]]=l.split("=")[1];return c},{})}(),H="id filters class sessionStorage localStorage store component multiple".split(" "),A={},y;c.detectDevice=function(){return navigator.userAgent.toLowerCase().match(/(mobi|ipod|phone|blackberry|opera mini|fennec|minimo|symbian|psp|nintendo ds|archos|skyfire|puffin|blazer|bolt|gobrowser|iris|maemo|semc|teashark|uzard|[^a-z]rim[^a-z]|sonyericsson|nokia|[^a-z]mib[^a-z])/)?
"mobile":navigator.userAgent.toLowerCase().match(/(ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP))))/)?"tablet":"desktop"};c.detectBrowser=function(){var c=!!window.opr&&!!opr.addons||!!window.opera||0<=navigator.userAgent.indexOf(" OPR/"),l="undefined"!==typeof InstallTrigger,m=/constructor/i.test(window.HTMLElement)||"[object SafariRemoteNotification]"===(!window.safari||safari.pushNotification).toString(),g=!!document.documentMode,d=
!g&&!!window.StyleMedia,b=!!window.chrome&&!!window.chrome.webstore;return c?"opera":l?"firefox":m?"safari":b?"chrome":g?"ie":d?"edge":"unknown"};c.detectOrientation=function(){return screen.width>screen.height?"landscape":screen.height>screen.width?"portrait":"square"};c.detectScreenOrientation=function(){return window.innerWidth>window.innerHeight?"landscape-size":window.innerHeight>window.innerWidth?"portrait-size":"square-size"};c.detectScreenSize=function(){return 1280>("landscape"===this.detectOrientation()?
window.innerWidth:window.innerHeight)?750>("landscape"===this.detectOrientation()?window.innerWidth:window.innerHeight)?"mobile-size":"tablet-size":"desktop-size"};window.addEventListener("resize",Q);document.body?Q():document.addEventListener("DOMContentLoaded",function(){Q()});c.register=function(h,l,m,g){F.register(h,m);J[h]=l;return c};c.isRegistered=function(c){return void 0!==J[c]&&F.isRegistered(c)};c.registered=function(){return Object.keys(J)};c.loadWaitList=function(h,l){if("undefined"===
typeof l&&h)return A[h];if(h){if(void 0===A[h]||"clear"===l){var m=void 0===A[h]?!1:!!A[h].loading;A[h]=[];A[h].loading=m}"function"===typeof l&&A[h].push(l)}return c};c.localRouting=function(h){h?(y=Node.prototype.appendChild,Node.prototype.appendChild=function(c){if("script"===c.nodeName.toLowerCase()){c.src=c.src.substring(0,-1!==c.src.indexOf("?")?c.src.indexOf("?"):c.src.length);var h=c.src.match(/(.*?component\/)/);h&&(D.env||(D.env="prod"),"dev"===D.env&&(D.env="qa"),h=c.src.replace(h[0],"").replace(/[\/\s]/g,
""),c.src=(void 0!==G.prefix?G.prefix:"")+"/components/"+h+"/build/"+D.env+"/"+h+(D.debug&&"prod"!==D.env?"":".min")+".js",arguments[0]=c)}return y.apply(this,arguments)}):y&&(Node.prototype.appendChild=y,y=null);return c};c.hashRouting=function(c){c&&(document.body?K(window.location.hash.replace("#","")):document.addEventListener("DOMContentLoaded",function(){K(window.location.hash.replace("#",""))}));return this};return c}}(V,W,U,X,Y);"undefined"!==typeof window&&"undefined"!==typeof window.define&&
"undefined"!==typeof window.require?define([],function(){return S}):"undefined"!==typeof module&&(module.exports=S);return S}();
